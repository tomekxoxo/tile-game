(this["webpackJsonptile-game"]=this["webpackJsonptile-game"]||[]).push([[0],{18:function(r,n,o){r.exports=o(31)},23:function(r,n,o){},31:function(r,n,o){"use strict";o.r(n);var e=o(0),t=o.n(e),c=o(8),a=o.n(c),l=(o(23),o(2)),i=o(3),u=o(4),s=o(17);function f(){var r=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 50px;\n  height: 50px;\n  background-color: ",";\n  cursor: pointer;\n  &:hover {\n    transform: scale(1.08);\n  }\n  @media screen and (max-width: 768px) {\n    width: 25px;\n    height: 25px;\n  }\n"]);return f=function(){return r},r}var d=i.a.div(f(),(function(r){return r.color&&r.color})),v=Object(u.b)((function(r){return{rows:r.rows,cols:r.cols,blockArr:r.blockArr,score:r.score}}),(function(r){return{onDelete:function(n,o,e){r(function(r,n){var o=n[r].color;return{type:"BOX_DELETE",arr:function r(n,e){if(e.length>0){var t=e[0],c=e,a=n,l=!1;return void 0!==n[t-12]&&n[t-12].color==o&&(c.push(t-12),a[t].color="transparent",a[t-12].color="transparent",l=!0),void 0!==n[t+12]&&n[t+12].color==o&&(c.push(t+12),a[t].color="transparent",a[t+12].color="transparent",l=!0),void 0!==n[t-1]&&11!==n[t-1].id&&23!==n[t-1].id&&35!==n[t-1].id&&47!==n[t-1].id&&n[t-1].color==o&&(c.push(t-1),a[t].color="transparent",a[t-1].color="transparent",l=!0),void 0!==n[t+1]&&12!==n[t+1].id&&24!==n[t+1].id&&36!==n[t+1].id&&48!==n[t+1].id&&n[t+1].color==o&&(c.push(t+1),a[t].color="transparent",a[t+1].color="transparent",l=!0),l?(c.shift(),r(a,c)):n}return n}(n,[r]),move:r}}(n,o))},onUpdateScore:function(n,o){r(function(r,n){var o=n;return r.forEach((function(r){"transparent"==r.color&&(o+=1)})),{type:"UPDATE_SCORE",score:o,move:Math.floor(Math.random())}}(n,o))},onMoveBlocksDown:function(n){r(function(r){for(var n=r.length-1;n>=0;n--)if("transparent"==r[n].color)if(void 0!=r[n-12]&&"transparent"!==r[n-12].color){var o=r[n-12].color;r[n-12].color="transparent",r[n].color=o}else if(void 0!=r[n-24]&&"transparent"!==r[n-24].color){var e=r[n-24].color;r[n-24].color="transparent",r[n].color=e}else if(void 0!=r[n-36]&&"transparent"!==r[n-36].color){var t=r[n-36].color;r[n-36].color="transparent",r[n].color=t}else if(void 0!=r[n-48]&&"transparent"!==r[n-48].color){var c=r[n-48].color;r[n-48].color="transparent",r[n].color=c}return{type:"MOVE_BLOCKS_DOWN",arr:r,move:Math.floor(Math.random())}}(n))},onGenerateNewBlocks:function(n){r(function(r){var n=["#9e5613","#133d8a","#72caed","#f7c95c","#705496"];return r.forEach((function(r){if("transparent"==r.color){var o=Math.floor(5*Math.random());r.color=n[o]}})),{type:"GENERATE_NEW_BLOCKS",arr:r,move:Math.floor(Math.random())}}(n))}}}))((function(r){var n=Object(e.useState)(null),o=Object(s.a)(n,2),c=o[0],a=o[1];Object(e.useEffect)((function(){a(r.id)}),[]);return t.a.createElement(d,{color:r.color,onClick:function(){r.onDelete(c,r.blockArr),r.onUpdateScore(r.blockArr,r.score),r.onMoveBlocksDown(r.blockArr),r.onGenerateNewBlocks(r.blockArr)}})}));function p(){var r=Object(l.a)(["\n  p {\n    color: #000;\n    font-size: 2.2rem;\n  }\n"]);return p=function(){return r},r}var m=i.a.div(p()),h=Object(u.b)((function(r){return{score:r.score}}),null)((function(r){return t.a.createElement(m,null,t.a.createElement("p",null,"score:",r.score))}));function b(){var r=Object(l.a)(["\n  display: grid;\n  grid-gap: 2px;\n  grid-template-columns: repeat(\n    ",",\n    1fr\n  );\n  grid-template-rows: repeat(\n    ",",\n    1fr\n  );\n"]);return b=function(){return r},r}var E=i.a.div(b(),(function(r){return r.cols?r.cols:null}),(function(r){return r.rows?r.rows:null})),O=Object(u.b)((function(r){return{rows:r.rows,cols:r.cols,blockarr:r.blockArr,move:r.move}}),(function(r){return{onPopulateBoard:function(n,o){r(function(r,n){for(var o=r*n,e=[],t=["#9e5613","#133d8a","#72caed","#f7c95c","#705496"],c=0;c<o;c++){var a=Math.floor(5*Math.random());e.push({id:c,color:t[a]})}return{type:"POPULATE_BOARD",arr:e}}(n,o))}}}))((function(r){var n;return Object(e.useEffect)((function(){r.onPopulateBoard(r.rows,r.cols)}),[]),n=r.blockarr.map((function(r){return t.a.createElement(v,{key:r.id,id:r.id,color:r.color})})),t.a.createElement(t.a.Fragment,null,t.a.createElement(E,{rows:r.rows,cols:r.cols},n),t.a.createElement(h,null))}));function w(){var r=Object(l.a)(["\n  width:100%;\n  height:100vh;\n  display:flex;\n  flex-direction:column;\n  justify-content:center;\n  align-items:center;\n  background-color: #eee;\n"]);return w=function(){return r},r}var k=i.a.div(w());var g=function(){return t.a.createElement(k,null,t.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=o(1),A={rows:5,cols:12,blockArr:[],move:null,score:0},B=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"POPULATE_BOARD":return Object(j.a)(Object(j.a)({},r),{},{blockArr:n.arr});case"BOX_DELETE":return Object(j.a)(Object(j.a)({},r),{},{blockArr:n.arr,move:n.move});case"UPDATE_SCORE":return Object(j.a)(Object(j.a)({},r),{},{score:n.score,move:n.move});case"MOVE_BLOCKS_DOWN":case"GENERATE_NEW_BLOCKS":return Object(j.a)(Object(j.a)({},r),{},{blockArr:n.arr,move:n.move});default:return r}},M=o(7),y=o(16),_=M.c,D=Object(M.d)(B,_(Object(M.a)(y.a)));a.a.render(t.a.createElement(u.a,{store:D},t.a.createElement(t.a.StrictMode,null,t.a.createElement(g,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(r){r.unregister()})).catch((function(r){console.error(r.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.d2b5d05f.chunk.js.map